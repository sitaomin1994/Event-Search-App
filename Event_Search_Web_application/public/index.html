<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>EventSearch</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="/stylesheets/angular-material.css">
    <link rel="stylesheet" href="/stylesheets/style.css">
    <style>
        .container {
            margin: 0 auto;
            max-width: 900px;
            width: 100%;
        }
        html, body, #map, #mapContainer{
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
            background-color: white;
        }
        a {
            color:rgb(7,107,255);
            text-decoration: none;
        }
        .autoCom{
            box-shadow: 0px 0px;
            border-radius: 0.5rem;
         }
        /* form
        ------------------------------------------------------------------------*/
        .form-wrap{
            border-radius: 0.5rem;
        }
        .required-star{
            color:red;
        }
        input.ng-invalid.ng-touched{
            border: 1px solid red;
        }


        .material-icons.md-submit {
            margin-top:4px;
            font-size: 12px;
            veritcal-align:middle;
        }
        .material-icons.md-clear {
            margin-top:5px;
            font-size: 15px;
            veritcal-align:middle;
        }


        /* event search table
        -------------------------------------------------------------------------*/
        .table-content{
            font-size:14px;
        }
        .material-icons.md-star {
            margin-top:5px;
            font-size: 14px;
            veritcal-align:middle;
        }

        .material-icons.md-delete {
            margin-top:5px;
            font-size: 15px;
            veritcal-align:middle;
        }

        .material-icons.md-left {
            font-size: 16px;
            vertical-align: middle;
            padding-bottom:2px;
        }

        .favorite{
            color:darkorange;
            border-color: darkorange;
        }
        button:disabled{
            color: #666666;
        }

        .list-show-hide{
            position: relative;
            left:0%;

        }
        .animate-list-show-hide.ng-hide{
            left:100%;

        }
        .animate-list-show-hide.ng-hide-remove{
            transition: all linear 3s;
        }


        /* event details
        -------------------------------------------------------------------------*/
        .details-show-hide{
            position: relative;
            right:0%;

        }
        .animate-details-show-hide.ng-hide{
            right:100%;

        }
        .animate-details-show-hide.ng-hide-remove{
            transition: all linear 3s;
        }




        /* event information table
        --------------------------------------------------------------------------*/
        /* The Modal (background) */
        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 1; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgb(0,0,0); /* Fallback color */
            background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
        }
        .modal-header {
            padding: 2px 16px;
        }

        /* Modal Body */
        .modal-body {
            padding: 2px 16px;
        }
        /* Modal Footer */
        .modal-footer {
            padding: 2px 16px;
        }

        /* Modal Content/Box */
        .modal-content {
            background-color: #fefefe;
            margin: 15% auto; /* 15% from the top and centered */
            padding: 20px;
            border: 1px solid #888;
            width: 50%; /* Could be more or less, depending on screen size */
        }
        /* The Close Button */
        .close {
            color: black;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        /** event venue
        ---------------------------------------------------------------------------------------- */
        .venueTitle{
            vertical-align: middle;
        }
        .table > tbody > tr > th >span {
            vertical-align: middle;
        }
        #map {
            height:400px;
        }
        /** animation show and hide
         ---------------------------------------------------------------------------------------- */
        .animate-show-hide.ng-hide {
            opacity: 0;
            height: 0px;
        }

        .animate-show-hide.ng-hide-add,
        .animate-show-hide.ng-hide-remove {
            transition: all linear 0.5s;
        }

        .show-hide-elements {
            opacity: 1;
            height:150px;
        }
    </style>
</head>


<body ng-app="myApp" ng-controller = "myAppController">


<!----------------form------------------------------------------------------------------------------------------------>
<div class="container mt-sm-2">
    <form class ="row" method="get" name="myform" novalidate ng-submit="handleEventsTable()">
        <div class = 'col border bg-light mt-2 form-wrap'>
            <h5 class = "text-center mt-2">Entertainment Event Ticket Search</h5>

            <div class = "row">
                <div class = "col-sm-10 offset-sm-2">
                    <!--keywords-->
                    <div class = "form-group row mt-2">
                        <div class="col-sm-3">
                            <label>Keywords<span class="required-star">*</span></label>
                        </div>
                        <div class="col-sm-6">
                            <md-autocomplete class = "autoCom" md-input-name="Keywords" name="keywords" md-search-text="eventInput.Keywords" value="" ng-model="eventInput.Keywords"
                                             placeholder="Enter Artist, Team or Event Name(eg. Lakers)" md-delay="1000"
                                             ng-required = "true" md-items="item in query(eventInput.Keywords)">
                                            <md-item-template>
                                                <span md-highlight-text="eventInput.Keywords">{{item}}</span>
                                            </md-item-template>
                                            <md-not-found>
                                            No matching keyword were found.
                                            </md-not-found>
                                <div ng-messages="myform.Keywords.$error" ng-if="myform.Keywords.$touched">
                                    <div ng-message="required">You <b>must</b> have a favorite state.</div>
                                </div>
                            </md-autocomplete>
                            <p class="mt-1" style="color:red;" ng-show="myform.Keywords.$invalid === true && myform.Keywords.$touched === true">Please enter a keyword</p>
                        </div>
                    </div>
                    <!--categories-->
                    <div class = "form-group row">
                        <div class = "col-sm-3">
                            <label>Categories</label>
                        </div>
                        <div class = "col-sm-3">
                            <select class = "form-control" name = "Category" ng-model="eventInput.Category">
                                <option value = "All">All</option>
                                <option value = "Music">Music</option>
                                <option value = "Sports">Sports</option>
                                <option value = "Arts&Theatre">Arts & Theatre</option>
                                <option value = "Film">Film</option>
                                <option value = "Miscellaneous">Miscellaneous</option>
                            </select>
                        </div>
                    </div>
                    <!--distance-->
                    <div class = "form-group row">
                        <div class = "col-sm-3">
                            <label>Distance</label>
                        </div>
                        <div class="col-sm-3">
                            <input class = "form-control" type = "text" placeholder="10" name="Distance" value= "10" ng-required = "true" ng-model="eventInput.Distance">
                        </div>
                        <div class="col-sm-3">
                            <select class = "form-control" name = "DistanceUnits" ng-model = "eventInput.DistanceUnits">
                                <option id='Miles' value = "miles">Miles</option>
                                <option id='Kilometers' value = "km">Kilometers</option>
                            </select>
                        </div>
                    </div>
                    <!--location-->
                    <div class = "row">
                        <div class = "col-sm-3">
                            <label>From<span class="required-star">*</span></label>
                        </div>
                        <div class = "col-sm-6">
                            <div class = "form-check">
                                <label class = "form-check-label">
                                    <input  class = "form-check-input" type="radio" name="location" id="Here" onclick = ""  checked ng-click="checkCurrentLocation();">
                                    Current locatioin
                                    <input type="hidden" name="currentLocation" ng-model = "eventInput.currentLocation">
                                </label>
                            </div>
                            <div class="form-check">
                                <label class = "form-check-label">
                                    <input class = "form-check-input" type="radio" name="location" id="Location" ng-click="checkOtherLocation();">
                                    Other. Please specify:
                                </label>
                                <input class = 'form-control mt-1' type="text" name="otherlocation"
                                       id="otherLocation"
                                       placeholder="location"
                                       value=""
                                       ng-required="true"
                                       ng-disabled="otherLocationDisabled === true"
                                       ng-model="eventInput.otherlocation">
                                <p class="mt-1" style="color:red;" ng-show="myform.otherlocation.$invalid && myform.otherlocation.$touched && otherLocationDisabled === false">Please enter a location</p>
                            </div>
                        </div>
                    </div>

                    <!--button---->
                    <div class = "row">
                        <div class="button col mt-2">
                            <button type="submit" class="btn btn-sm btn-primary border rounded"
                                    ng-disabled= "getLocation===false || eventInput.Keywords === '' || (otherLocationDisabled === false && eventInput.otherlocation ==='') || myform.Keywords.$invalid === true">
                                <i class="material-icons md-8 md-submit">search</i>
                                <span>Search</span>
                            </button>
                            <button type="reset" class="btn btn-sm btn-default ml-2 border rounded" ng-click = "clear();">
                                <i class="material-icons md-8 md-clear">clear_all</i>
                                <span>Clear</span>
                            </button>
                        </div>
                    </div>
                    <br/>

                </div>
            </div>
        </div>
    </form>
</div>



<!--Result and Favorite button-------------------------------------------------------------------------------------------------------------------------->
<div class="container text-center mt-3">
    <button class="btn-sm btn-primary border-0" ng-click="showResult()" style="text-decoration: none" ng-show = "resultButtonSign === true">Results</button>
    <button class="btn-sm btn-link border-0" ng-click="showResult()" style="text-decoration: none" ng-show="resultButtonSign === false;">Results</button>
    <button class="btn-sm btn-link border-0" style="text-decoration: none" ng-click="showFavorite()" ng-show="favoriteButtonSign === true;">Favorites</button>
    <button class="btn-sm btn-primary border-0" style="text-decoration: none" ng-click="showFavorite()" ng-show="favoriteButtonSign === false;">Favorites</button>
</div>


<!---- progressive bar--------------------------------------------------------------------------------------------------->
<div class = "container"  style="margin-top: 100px" ng-show="showEventSearchProgressive === true;">
    <div class="progress">
        <div class="progress-bar progress-bar-striped progress-bar-animated" style="width:50%"></div>
    </div>
</div>



<!-------events list table--------------------------------------------------------------------------------------------------------------------------------->
<div class = "container mt-3" style = "padding:0px; font-size: 12px;" ng-show="showEventSearch === true">
    <div ng-show = "eventSearchAnimationSign === true" class = "list-show-hide animate-list-show-hide">
        <!--------result list item----------->
        <div ng-show="showResultsList === true;">
            <div class=" list-show-hide table-responsive-md" ng-show="eventsHandler.noRecord === false;" style="padding:0px;">
                <!--------details button----------->
                <div class="mt-3 mb-4 text-right">
                    <button class="btn-default rounded" ng-click = "clickDetails();" ng-disabled="detailsButton1Disabled === true;" style="font-size:15px; padding-left:10px;">
                        Details
                        <i class="material-icons md-left">chevron_right</i>
                    </button>
                </div>

                <!--------results item---------------->
                <table class="table table-hover">
                    <thead>
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Date</th>
                        <th scope="col">Event</th>
                        <th scope="col">Category</th>
                        <th scope="col">Venue Info</th>
                        <th scope="col">Favorite</th>
                    </tr>
                    </thead>
                    <tbody ng-repeat = "event in eventsHandler.events">
                    <!---------- no background-------------------->
                    <tr ng-if="event.hasResultDetails === false;">
                        <th scope="row" class='table-content'>{{event.eventID}}</th>
                        <td class="table-content">{{event.date}}</td>
                        <td class="table-content">
                            <a href="javascript:void(0);" style="text-decoration: none;" ng-click="handleEventsDetails(event.eventIdentification,$index)">
                                {{event.name}}
                                    <md-tooltip ng-if="event.tooltip ===true">{{event.nameTootip}}</md-tooltip>
                            </a>
                        </td>
                        <td class="table-content">{{event.genre}} - {{event.segment}}</td>
                        <td class="table-content">{{event.venueInfo}}</td>
                        <td style="padding-left:15px;" >
                            <div style="border:2px solid lightgray; width:40px; height:30px; text-align:center;">
                                <i class="material-icons md-star" ng-click="clickStar($index);" ng-if="event.favorite === false;">
                                    star_border
                                </i>
                                <i class="material-icons md-star favorite" ng-click="clickStar($index)" ng-if="event.favorite === true;">
                                    star
                                </i>
                            </div>
                        </td>
                    </tr>
                    <tr style="background-color: orange" ng-if="event.hasResultDetails === true;">
                        <th scope="row" class='table-content'>{{event.eventID}}</th>
                        <td class="table-content">{{event.date}}</td>
                        <td class="table-content">
                            <a href="javascript:void(0);" style="text-decoration: none;" ng-click="handleEventsDetails(event.eventIdentification,$index)">
                                {{event.name}}
                                <md-tooltip ng-if="event.tooltip ===true">{{event.nameTootip}}</md-tooltip>
                            </a>
                        </td>
                        <td class="table-content">{{event.genre}} - {{event.segment}}</td>
                        <td class="table-content">{{event.venueInfo}}</td>
                        <td style="padding-left:15px;" >
                            <div style="border:2px solid lightgray; width:40px; height:30px; text-align:center;">
                                <i class="material-icons md-star" ng-click="clickStar($index);" ng-if="event.favorite === false;">
                                    star_border
                                </i>
                                <i class="material-icons md-star favorite" ng-click="clickStar($index)" ng-if="event.favorite === true;">
                                    star
                                </i>
                            </div>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <!----------- no record bar--------------------------->
            <div class = "container mt-4" style = "margin-top:120px;" ng-show="eventsHandler.noRecord === true">
                <div class="alert alert-warning" style="height:40px;">
                    <p style="line-height:12px">No Records.<p>
                </div>
            </div>
        </div>


        <!--------favorite list item---------------->
        <div class="list-show-hide" ng-show="showFavoriteList === true;" style="padding:0px;">
            <div class="table-responsive-md" ng-show="nofavorite === false;">
                <div class="mt-3 mb-4 text-right">
                    <button class="btn-default rounded" ng-click = "clickDetails();" ng-disabled="detailsButton2Disabled === true;" style="font-size:15px; padding-left:10px;">
                        Details
                        <i class="material-icons md-left">chevron_right</i>
                    </button>
                </div>
                <table class="table table-hover">
                    <thead>
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Date</th>
                        <th scope="col">Event</th>
                        <th scope="col">Category</th>
                        <th scope="col">Venue Info</th>
                        <th scope="col">Favorite</th>
                    </tr>
                    </thead>
                    <tbody ng-repeat = "event in favoriteItem">
                    <!-----------no background---------------->
                    <tr ng-if="event.hasFavoriteDetails === false;">
                        <th scope="row" class='table-content'>{{$index + 1}}</th>
                        <td class="table-content">{{event.date}}</td>
                        <td class="table-content">
                            <a href="javascript:void(0);" style="text-decoration: none;" ng-click="handleEventsDetails(event.eventIdentification,$index)">
                                {{event.name}}
                            </a>
                        </td>
                        <td class="table-content">{{event.genre}} - {{event.segment}}</td>
                        <td class="table-content">{{event.venueInfo}}</td>
                        <td style="padding-left:15px;" >
                            <div style="border:2px solid lightgray; width:40px; height:30px; text-align:center;" ng-click="">
                                <i class="material-icons md-delete" ng-click="clickDelete($index)">
                                 delete
                                </i>
                            </div>
                        </td>
                    </tr>
                    <!-----------has background----------------->
                    <tr style="background-color: darkorange;" ng-if = "event.hasFavoriteDetails === true;">
                        <th scope="row" class='table-content'>{{$index + 1}}</th>
                        <td class="table-content">{{event.date}}</td>
                        <td class="table-content">
                            <a href="javascript:void(0);" style="text-decoration: none;" ng-click="handleEventsDetails(event.eventIdentification, $index)">
                                {{event.name}}
                            </a>
                        </td>
                        <td class="table-content">{{event.genre}} - {{event.segment}}</td>
                        <td class="table-content">{{event.venueInfo}}</td>
                        <td style="padding-left:15px;" >
                            <div style="border:2px solid lightgray; width:40px; height:30px; text-align:center;" ng-click="">
                                <i class="material-icons md-delete" ng-click="clickDelete($index)">
                                    delete
                                </i>
                            </div>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <!-------------- no record bar ----------->
            <div class = "container mt-4" style = "margin-top:120px;" ng-show="nofavorite === true;">
                <div class="alert alert-warning" style="height:40px;">
                    <p style="line-height:12px">No Records.<p>
                </div>
            </div>
        </div>
    </div>

    <!---------------------------------------------------------------------------------------------------------------------------------------->
    <div ng-show = "eventSearchAnimationSign === false">
        <!--------result list item----------->
        <div ng-show="showResultsList === true;">
            <div class="list-show-hide table-responsive-md" ng-show="eventsHandler.noRecord === false;" style="padding:0px;">
                <!--------details button----------->
                <div class="mt-3 mb-4 text-right">
                    <button class="btn-default rounded" ng-click = "clickDetails();" ng-disabled="detailsButton1Disabled === true;" style="font-size:15px; padding-left:10px;">
                        Details
                        <i class="material-icons md-left">chevron_right</i>
                    </button>
                </div>

                <!--------results item---------------->
                <table class="table table-hover">
                    <thead>
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Date</th>
                        <th scope="col">Event</th>
                        <th scope="col">Category</th>
                        <th scope="col">Venue Info</th>
                        <th scope="col">Favorite</th>
                    </tr>
                    </thead>
                    <tbody ng-repeat = "event in eventsHandler.events">
                    <!---------- no background-------------------->
                    <tr ng-if="event.hasResultDetails === false;">
                        <th scope="row" class='table-content'>{{event.eventID}}</th>
                        <td class="table-content">{{event.date}}</td>
                        <td class="table-content">
                            <a href="javascript:void(0);" style="text-decoration: none;" ng-click="handleEventsDetails(event.eventIdentification,$index)">
                                {{event.name}}
                                <md-tooltip ng-if="event.tooltip ===true">{{event.nameTootip}}</md-tooltip>
                            </a>
                        </td>
                        <td class="table-content">{{event.genre}} - {{event.segment}}</td>
                        <td class="table-content">{{event.venueInfo}}</td>
                        <td style="padding-left:15px;" >
                            <div style="border:2px solid lightgray; width:40px; height:30px; text-align:center;">
                                <i class="material-icons md-star" ng-click="clickStar($index);" ng-if="event.favorite === false;">
                                    star_border
                                </i>
                                <i class="material-icons md-star favorite" ng-click="clickStar($index)" ng-if="event.favorite === true;">
                                    star
                                </i>
                            </div>
                        </td>
                    </tr>
                    <tr style="background-color: orange" ng-if="event.hasResultDetails === true;">
                        <th scope="row" class='table-content'>{{event.eventID}}</th>
                        <td class="table-content">{{event.date}}</td>
                        <td class="table-content">
                            <a href="javascript:void(0);" style="text-decoration: none;" ng-click="handleEventsDetails(event.eventIdentification,$index)">
                                {{event.name}}
                                <md-tooltip ng-if="event.tooltip ===true">{{event.nameTootip}}</md-tooltip>
                            </a>
                        </td>
                        <td class="table-content">{{event.genre}} - {{event.segment}}</td>
                        <td class="table-content">{{event.venueInfo}}</td>
                        <td style="padding-left:15px;" >
                            <div style="border:2px solid lightgray; width:40px; height:30px; text-align:center;">
                                <i class="material-icons md-star" ng-click="clickStar($index);" ng-if="event.favorite === false;">
                                    star_border
                                </i>
                                <i class="material-icons md-star favorite" ng-click="clickStar($index)" ng-if="event.favorite === true;">
                                    star
                                </i>
                            </div>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <!----------- no record bar--------------------------->
            <div class = "container mt-4" style = "margin-top:120px;" ng-show="eventsHandler.noRecord === true">
                <div class="alert alert-warning" style="height:40px;">
                    <p style="line-height:12px">No Records.<p>
                </div>
            </div>
        </div>

        <!--------favorite list item---------------->
        <div class="list-show-hide table-responsive-md" ng-show="showFavoriteList === true;" style="padding:0px;">
            <div ng-show="nofavorite === false;">
                <div class="mt-3 mb-4 text-right">
                    <button class="btn-default rounded" ng-click = "clickDetails();" ng-disabled="detailsButton2Disabled === true;" style="font-size:15px; padding-left:10px;">
                        Details
                        <i class="material-icons md-left">chevron_right</i>
                    </button>
                </div>
                <table class="table table-hover">
                    <thead>
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Date</th>
                        <th scope="col">Event</th>
                        <th scope="col">Category</th>
                        <th scope="col">Venue Info</th>
                        <th scope="col">Favorite</th>
                    </tr>
                    </thead>
                    <tbody ng-repeat = "event in favoriteItem">
                    <!-----------no background---------------->
                    <tr ng-if="event.hasFavoriteDetails === false;">
                        <th scope="row" class='table-content'>{{$index + 1}}</th>
                        <td class="table-content">{{event.date}}</td>
                        <td class="table-content">
                            <a href="javascript:void(0);" style="text-decoration: none;" ng-click="handleEventsDetails(event.eventIdentification,$index)">
                                {{event.name}}
                            </a>
                        </td>
                        <td class="table-content">{{event.genre}} - {{event.segment}}</td>
                        <td class="table-content">{{event.venueInfo}}</td>
                        <td style="padding-left:15px;" >
                            <div style="border:2px solid lightgray; width:40px; height:30px; text-align:center;" ng-click="">
                                <i class="material-icons md-delete" ng-click="clickDelete($index)">
                                    delete
                                </i>
                            </div>
                        </td>
                    </tr>
                    <!-----------has background----------------->
                    <tr style="background-color: darkorange;" ng-if = "event.hasFavoriteDetails === true;">
                        <th scope="row" class='table-content'>{{$index + 1}}</th>
                        <td class="table-content">{{event.date}}</td>
                        <td class="table-content">
                            <a href="javascript:void(0);" style="text-decoration: none;" ng-click="handleEventsDetails(event.eventIdentification, $index)">
                                {{event.name}}
                            </a>
                        </td>
                        <td class="table-content">{{event.genre}} - {{event.segment}}</td>
                        <td class="table-content">{{event.venueInfo}}</td>
                        <td style="padding-left:15px;" >
                            <div style="border:2px solid lightgray; width:40px; height:30px; text-align:center;" ng-click="">
                                <i class="material-icons md-delete" ng-click="clickDelete($index)">
                                    delete
                                </i>
                            </div>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <!-------------- no record bar ----------->
            <div class = "container mt-4" style = "margin-top:120px;" ng-show="nofavorite === true;">
                <div class="alert alert-warning" style="height:40px;">
                    <p style="line-height:12px">No Records.<p>
                </div>
            </div>
        </div>
    </div>
    <!------------------------------------------------------------------------------------------------------->
</div>


<!----------------------------------------------------------------------------------------------------------------------------------------------------->


<!----------------------------------------------------------------------------------------------------------------------------------------------------->

<!-------event details table--------------------------------------------------------------------------------------------------------------------------->
<div  class = "container mt-4 details-show-hide animate-details-show-hide" style = "" ng-show = "showDetailsTable === true">
    <!-------event Name----------------------------------------------------------------------------------------------------->
    <div style="text-align: center;" class="mb-2">
        <h4>{{detailsHandler.detailsData.eventName}}</h4>
    </div>

    <!--------butttons------------------------------------------------------------------------------------------------------>
    <div class="mt-3">
        <div class="d-inline">
            <button class="btn-default rounded" ng-click = "clickList()">
                <i class="material-icons md-left">chevron_left</i>
                <span style="font-size:15px; margin-left:0px; margin-right:10px;">List</span>
            </button>
        </div>
        <div class="float-right d-inline">
            <button class="btn-default border-0" ng-disabled = "showProgressive === true">
                <a href="https://twitter.com/intent/tweet?text=Check {{detailsHandler.detailsData.eventName}} at {{detailsHandler.detailsData.venue.name}}. Website:{{detailsHandler.detailsData.info.url}} %23CSCI571EventSearch" data-size="large" target="_blank">
                    <image src="http://csci571.com/hw/hw8/Images/Twitter.png" style="height:29px;" alt="twitter"></image>
                </a>
            </button>
            <div class="float-right" style="border:2px solid lightgray; width:40px; height:30px; text-align:center;">
                <i class="material-icons md-star" ng-click = "clickDetailsStar()" ng-if="detailsHandler.detailsData.favorite === false;" ng-disabled = "showProgressive === true;">
                    star_border
                </i>
                <i class="material-icons md-star favorite" ng-click="clickDetailsStar()" ng-if="detailsHandler.detailsData.favorite === true;" ng-disabled = "showProgressive === true;">
                    star
                </i>
            </div>
        </div>
    </div>

    <!-------navigation bar------------------------------------------------------------------------------------------------->
    <ul class="nav nav-tabs justify-content-end mt-3">
        <li class="nav-item">
            <a class="nav-link active" data-toggle="tab" href="#eventInfo" style="font-size:15px">Event</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" data-toggle="tab" href="#eventArtists" style="font-size:15px">Artist/Teams</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" data-toggle="tab" href="#eventVenue" style="font-size:15px" ng-click="showMap(detailsHandler.detailsData.venue);">Venue</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" data-toggle="tab" href="#eventUpcoming" style="font-size:15px">UpcomingEvents</a>
        </li>
    </ul>

    <!-------tabs content--------------------------------------------------------------------------------------------------->
    <div class="tab-content py-4">
        <!--------event info ------------------------------------------------->
        <div class="tab-pane active table-responsive-md" id="eventInfo" role="tabpanel">
            <table class="table table-striped table">
                <tbody>
                <tr ng-if= "detailsHandler.detailsData.info.artists !== undefined"><th>Artist/Team(s)</th><td><span>{{detailsHandler.detailsData.info.artists[0]}} </span><span ng-repeat = "item in detailsHandler.detailsData.info.artists" ng-if="!$first">| {{item}} </span></td></tr>
                <tr ng-if= "detailsHandler.detailsData.info.venue !== undefined"><th>Venue</th><td>{{detailsHandler.detailsData.info.venue}}</td></tr>
                <tr ng-if= "detailsHandler.detailsData.info.date !== undefined"><th>Time</th><td>{{detailsHandler.detailsData.info.date | date:'MMM d, y h:mm:ss' }}</td></tr>
                <tr ng-if= "detailsHandler.detailsData.info.categories !== undefined"><th>Category</th><td><span>{{detailsHandler.detailsData.info.categories[0]}} </span><span ng-repeat = "item in detailsHandler.detailsData.info.categories" ng-if="!$first">| {{item}} </span></td></tr>
                <tr ng-if= "detailsHandler.detailsData.info.priceRange !== undefined">
                    <th>Price Range</th>
                    <td ng-if="detailsHandler.detailsData.info.priceRange.min !== undefined && detailsHandler.detailsData.info.priceRange.max !== undefined">{{detailsHandler.detailsData.info.priceRange.min | currency: detailsHandler.detailsData.info.priceRange.currency: 2}} ~ {{detailsHandler.detailsData.info.priceRange.max | currency: detailsHandler.detailsData.info.priceRange.currency: 2}}</td>
                    <td ng-if="detailsHandler.detailsData.info.priceRange.min === undefined">{{detailsHandler.detailsData.info.priceRange.max| currency: detailsHandler.detailsData.info.priceRange.currency: 2}}</td>
                    <td ng-if="detailsHandler.detailsData.info.priceRange.max === undefined">{{detailsHandler.detailsData.info.priceRange.min | currency: detailsHandler.detailsData.info.priceRange.currency: 2}}</td>
                </tr>
                <tr ng-if= "detailsHandler.detailsData.info.status !== undefined"><th>Ticket Status</th><td>{{detailsHandler.detailsData.info.status}}</td></tr>
                <tr ng-if= "detailsHandler.detailsData.info.url !== undefined"><th>Buy Ticket At</th><td><a href = "{{detailsHandler.detailsData.info.url}}" target="_blank">Ticketmaster</a></td></tr>
                <tr ng-if= "detailsHandler.detailsData.info.seatmap !== undefined">
                    <th>Seat Map</th>
                    <td><a href="javascript:void(0);" ng-click="showSeatmap()">View Seat Map Here</a></td>
                    <!-- popup image windows -->
                    <div id="myModal" class="modal">
                        <!-- Modal content -->
                        <div class="modal-content">
                            <div class="modal-header mb-2">
                                <span class="h3">View Seat Map</span>
                                <span class="close float-right" ng-click="closeSeatmap()">&times;</span>
                            </div>
                            <div class="modal-body mt-2 mb-2 text-center">
                                <a href="{{detailsHandler.detailsData.info.seatmap}}" target="_blank">
                                    <img src="{{detailsHandler.detailsData.info.seatmap}}" style="height:300px;width:450px;">
                                </a>
                            </div>
                            <div class="modal-footer mt-2">
                                <button class="btn btn-outline-dark mt-3" ng-click="closeSeatmap()">close</button>
                            </div>
                        </div>
                    </div>
                </tbody>
            </table>

            <!------nor record bar ---------------------------------------------->
            <div class="alert alert-warning" style="height:40px; margin-top:100px;" ng-show="detailsHandler.record.noInfoRecord === true">
                <p style="line-height:12px">No Records<p>
            </div>

            <!---error bar -------->
            <div class = "container mt-4" style = "margin-top:120px;" ng-show="detailsHandler.errorHappen.InfoError === true">
                <div class="alert alert-danger" style="height:40px;">
                    <p style="line-height:12px">Failed to get search results.<p>
                </div>
            </div>
        </div>


        <!--------event artist------------------------------------------------->
        <div class="tab-pane" id="eventArtists" role="tabpanel">
            <div class="mt-3 table-responsive-md" ng-repeat = "artist in detailsHandler.detailsData.artist">
                <div class="text-center">
                    <p class="h5">{{artist.artistName}}</p>
                </div>
                <!---------------- music artist spotify-------------------->
                <table class="table table-striped table" ng-if="artist.musicArtist !== undefined">
                    <tbody>
                        <tr class="row" ng-if="artist.musicArtist.name !== undefined"><th class="col-6">Name</th><td class="col-6">{{artist.musicArtist.name}}</td></tr>
                        <tr class="row" ng-if="artist.musicArtist.followers !== undefined"><th class="col-6 align-middle">Followers</th><td class="col-6">{{artist.musicArtist.followers | number:0}}</td></tr>
                        <tr class="row" ng-if="artist.musicArtist.popularity !== undefined">
                            <th class="col-6 align-middle">Popularity</th>
                            <td class="col-6">
                                <div style="position:relative;">
                                    <round-progress style="position:absolute; top:0; left:0;" max=100  current="artist.musicArtist.popularity" color="#8AB44A" bgcolor="#eaeaea" radius="20" stroke="5" rounded="true" clockwise="false" duration="800" animation="easeInOutQuart" animation-delay="0"></round-progress>
                                    <div style="position:absolute;top:26%; left:3%;">{{artist.musicArtist.popularity}}</div>
                                </div>
                            </td></tr>
                        <tr class="row" ng-if="artist.musicArtist.url !== undefined"><th class="col-6">Check At</th><td class="col-6"><a href="{{artist.musicArtist.url}}" target="_blank">Spotify</a></td></tr>
                    </tbody>
                </table>
                <!---------------- artist photo --------------------------->
                <div class="card-columns mt-3" ng-if="artist.artistPhoto !== undefined">
                    <div class="card border-0" ng-repeat="photo in artist.artistPhoto">
                        <a href = "{{photo}}" target = "_blank">
                            <img class="card-img-top" src="{{photo}}" alt="Card image cap">
                        </a>
                    </div>
                </div>
            </div>
            <!------------------- no record bar ----------------------------->
            <div class="alert alert-warning" style="height:40px; margin-top:100px;" ng-show="detailsHandler.record.noArtistRecord === true">
                <p style="line-height:12px">No Records<p>
            </div>
            <!---error bar -------->
            <div class = "container mt-4" style = "margin-top:120px;" ng-show="detailsHandler.errorHappen.artistError === true">
                <div class="alert alert-danger" style="height:40px;">
                    <p style="line-height:12px">Failed to get search results.<p>
                </div>
            </div>
        </div>


        <!---------event venue -------------------------------------------------->
        <div class="tab-pane table-responsive-md" id="eventVenue" role="tabpanel">
            <table class="table table-striped">
                <div class="text-center">
                    <p class = "h6">{{detailsHandler.detailsData.venue.name}}</p>
                </div>
                <tbody>
                    <tr class="row" ng-if="detailsHandler.detailsData.venue.address !== undefined"><th class="col-2">Address</th><td class="col-10">{{detailsHandler.detailsData.venue.address}}</td></tr>
                    <tr class="row" ng-if="detailsHandler.detailsData.venue.city !== undefined"><th class="col-2 align-middle">City</th><td class="col-10">{{detailsHandler.detailsData.venue.city}}</td></tr>
                    <tr class="row" ng-if="detailsHandler.detailsData.venue.phoneNumber !== undefined"><th class="col-2 align-middle"><span>Phone Number</span></th><td class="col-10">{{detailsHandler.detailsData.venue.phoneNumber}}</td></tr>
                    <tr class="row" ng-if="detailsHandler.detailsData.venue.openHour !== undefined"><th class="col-2">Open Hour</th><td class="col-10">{{detailsHandler.detailsData.venue.openHour}}</td></tr>
                    <tr class="row" ng-if="detailsHandler.detailsData.venue.generalRule !== undefined"><th class="col-2 align-middle">General Rule</th><td class="col-10">{{detailsHandler.detailsData.venue.generalRule}}</td></tr>
                    <tr class="row" ng-if="detailsHandler.detailsData.venue.childRule !== undefined"><th class="col-2 align-middle">Child Rule</th><td class="col-10">{{detailsHandler.detailsData.venue.childRule}}</td></tr>
                    <tr class="row" ng-show="detailsHandler.detailsData.venue.location !== undefined"><td id="mapContainer" style="height:100%; width: 100%;"><div id ='map'></div></td></tr>
                </tbody>
            </table>
            <!------------------- no record bar ----------------------------->
            <div class="alert alert-warning" style="height:40px; margin-top:100px;" ng-show="detailsHandler.record.noVenueRecord === true">
                <p style="line-height:12px">No Records<p>
            </div>
            <!---error bar -------->
            <div class = "container mt-4" style = "margin-top:120px;" ng-show="detailsHandler.errorHappen.venueError === true">
                <div class="alert alert-danger" style="height:40px;">
                    <p style="line-height:12px">Failed to get search results.<p>
                </div>
            </div>
        </div>

        <!---------event upcoming-------------------------------------------------->
        <div class="tab-pane" id="eventUpcoming" role="tabpanel">
            <!---------event upcoming------------------------------------------------>
            <div ng-show="detailsHandler.record.noUpcomingRecord === false && detailsHandler.errorHappen.upcomingError === false">
            <!---------event upcoming button------------------------------------------------>
                <div class="row">
                <div class = "col-sm-3">
                    <select class = "form-control" ng-model="sortType" ng-change="onSelectTypeChange()">
                        <option value = "Default">Default</option>
                        <option value = "name">Event Name</option>
                        <option value = "date">Time</option>
                        <option value = "artist">Artists</option>
                        <option value = "type">Type</option>
                    </select>
                </div>
                <div class = "col-sm-3">
                    <select class = "form-control" ng-model="order" ng-change="onSelectOrderChange()" ng-disabled="sortType === 'Default'">
                        <option value = "Ascending">Ascending</option>
                        <option value = "Descending">Descending</option>
                    </select>
                </div>
                </div>
            <!--------upcoming event cards------------------------------------------->
                <div class="card mt-3 mb-3 animate-show-hide show-hide-elements" ng-repeat="event in detailsHandler.detailsData.upcoming | orderBy: orderQuery : reverseOrder : comparator" ng-show="$index < showCardThreshold">
                    <div class="card-body">
                    <a ng-if="event.url !== undefined && event.displayName !== undefined" href="{{event.url}}" target="_blank" class="card-title text-primary font-weight-bold">{{event.displayName}}</a>
                    <a ng-if="event.url===undefined && event.displayName !== undefined" href="javacript:void(0);" class="card-title text-primary font-weight-bold">{{event.displayName}}</a>
                    <a ng-if="event.url!==undefined && event.displayName === undefined" href="{{event.url}}" class="card-title  text-primary font-weight-bold">N/A</a>
                    <a ng-if="event.url===undefined && event.displayName === undefined" href="javacript:void(0);" class="card-title text-primary font-weight-bold"></a>
                    <p>
                        <span ng-if="event.artist !== undefined" class="card-title text-warning font-weight-bold">Artist: {{event.artist}} </span>
                        <span ng-if="event.date !== undefined" class="card-title text-muted font-weight-bold">{{event.date | date : 'MMM d, y h:mm:ss'}}</span>
                    </p>
                    <p ng-if="event.type !== undefined" class="card-title font-weight-bold">Type: {{event.type}}</p>
                    </div>
                </div>

            <!------show less and more button----------->
                <div class="mt-4 text-center" ng-show="showMoreButton === true" ng-click="showMore()">
                    <button class="btn btn-primary">show more</button>
                </div>
                <div class="mt-4 text-center" ng-show="showLessButton === true" ng-click="showLess()">
                    <button class="btn btn-primary">show less</button>
                </div>
            </div>
            <!------------------- no record bar ----------------------------->
            <div class="alert alert-warning" style="height:40px; margin-top:100px;" ng-show="detailsHandler.record.noUpcomingRecord === true">
                <p style="line-height:12px">No Records<p>
            </div>
            <!------------------- error bar -------->
            <div class = "container mt-4" style = "margin-top:120px;" ng-show="detailsHandler.errorHappen.upcomingError === true">
                <div class="alert alert-danger" style="height:40px;">
                    <p style="line-height:12px">Failed to get search results.<p>
                </div>
            </div>
        </div>

    </div>

    <!---- progressive bar--------------------------------------------------------------------------------------------------->
    <div class = "container"  style="margin-top: 0px" ng-show="showProgressive === true;">
        <div class="progress">
            <div class="progress-bar progress-bar-striped progress-bar-animated" style="width:50%"></div>
        </div>
    </div>
</div>

<!---error bar -------->
<div class = "container mt-4" style = "margin-top:120px;" ng-show="eventsHandler.errorHappen === true">
    <div class="alert alert-danger" style="height:40px;">
        <p style="line-height:12px">Failed to get search results.<p>
    </div>
</div>


<!-------script files----------------------------------------------------------------------------------------------------------------------------------------------------->
<script src="/javascripts/angular.js" crossorigin="anonymous"></script>
<script type="text/javascript" async src="https://platform.twitter.com/widgets.js"></script>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script src="https://maps.googleapis.com/maps/api/js?v=3&key=AIzaSyAE_BDGG42oJuV4SVrKs37xj9TSjVhOdpE"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/angular-svg-round-progressbar/0.4.8/roundProgress.min.js"></script>
<script src="/javascripts/angular-animate.min.js"></script>
<script src="/javascripts/angular-aria.min.js"></script>
<script src="/javascripts/angular-messages.min.js"></script>
<script src="/javascripts/angular-touch.min.js"></script>
<script src="/javascripts/angular-material.js"></script>
<script src="/javascripts/app.js"></script>
</body>
</html>